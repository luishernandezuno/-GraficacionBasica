<html>

<head>
<title>Practica</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script type="text/javascript">
//<![CDATA[
try{if (!window.CloudFlare) {var CloudFlare=[{verbose:0,p:0,byc:0,owlid:"cf",bag2:1,mirage2:0,oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/dok3v=1613a3a185/"},atok:"b7171f393705b5fb2816ef55297ea175",petok:"287504597ad21c74f8f0873f017ae6dd1af44878-1421814812-1800",zone:"learningwebgl.com",rocket:"0",apps:{}}];CloudFlare.push({"apps":{"ape":"329ff63c025554f5939d0e2f7c3cf547"}});!function(a,b){a=document.createElement("script"),b=document.getElementsByTagName("script")[0],a.async=!0,a.src="//ajax.cloudflare.com/cdn-cgi/nexp/dok3v=919620257c/cloudflare.min.js",b.parentNode.insertBefore(a,b)}()}}catch(e){};
//]]>
</script>
<script type="text/javascript" src="glMatrix-0.9.5.min.js"></script>

<script id="shader-fs" type="x-shader/x-fragment">
    #ifdef GL_ES
   // precision mediump float;
   precision highp float;
   #endif
   
  varying vec4 vColor;//semana3

    void main(void) {
        //color blanco 
        //gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
        //color cyan
        //gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);
        //color purple
       // gl_FragColor = vec4(1, .0, 1.0, 1.0);
       gl_FragColor = vColor;//semana3
    }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec3 aVertexPosition;
    attribute vec4 aVertexColor;//semana3
    
    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

varying vec4 vColor;

    void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vColor= aVertexColor;//semana3
    }
</script>


<script type="text/javascript">

    var gl;
    function initGL(canvas) {
        try {
            gl = canvas.getContext("experimental-webgl");
            gl.viewportWidth = canvas.width;
            gl.viewportHeight = canvas.height;
        } catch (e) {
        }
        if (!gl) {
            alert("No puede iniciarse webGL en este navegador:-(");
        }
    }


    function getShader(gl, id) {
    var shaderScript = document.getElementById(id);
    if (!shaderScript) {
        return null;
    }

    var str = "";
    var k = shaderScript.firstChild;
    while (k) {
        if (k.nodeType == 3){
            str += k.textContent;
        }
        k = k.nextSibling;
    }

    var shader;
    if (shaderScript.type == "x-shader/x-fragment") {
        shader = gl.createShader(gl.FRAGMENT_SHADER);
    } else if (shaderScript.type == "x-shader/x-vertex") {
        shader = gl.createShader(gl.VERTEX_SHADER);
    } else {
        return null;
    }

    gl.shaderSource(shader, str);
    gl.compileShader(shader);

    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
        alert(gl.getShaderInfoLog(shader));
        return null;
    }

    return shader;
}


    var shaderProgram;

    function initShaders() {
        var fragmentShader = getShader(gl, "shader-fs");
        var vertexShader = getShader(gl, "shader-vs");

        shaderProgram = gl.createProgram();
        gl.attachShader(shaderProgram, vertexShader);
        gl.attachShader(shaderProgram, fragmentShader);
        gl.linkProgram(shaderProgram);

        if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
            alert("No pueden iniciarse los shaders");
        }

        gl.useProgram(shaderProgram);

        shaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, "aVertexPosition");
    gl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);
        
       shaderProgram.vertexColorAttribute = gl.getAttribLocation(shaderProgram, "aVertexColor");
    gl.enableVertexAttribArray(shaderProgram.vertexColorAttribute);//semana3
        
        shaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, "uPMatrix");
    shaderProgram.mvMatrixUniform = gl.getUniformLocation(shaderProgram, "uMVMatrix");
    }

    var mvMatrix = mat4.create();
    var pMatrix = mat4.create();
    
    function setMatrixUniforms() {
        gl.uniformMatrix4fv(shaderProgram.pMatrixUniform, false, pMatrix);
        gl.uniformMatrix4fv(shaderProgram.mvMatrixUniform, false, mvMatrix);
    }
//pasos para el exagono
        var hexagonoVertexPositionBuffer;
	var hexagonoVertexColorBuffer;
//habilitar*?
glEnableClientState(GL_VERTEX_ARRAY);
//estructura
     // Create array of vertices, consisting of 3 points:

//
//seman3
    //dibujo triangulo

    function initBuffers() {
        triangleVertexPositionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, triangleVertexPositionBuffer);
        var vertices = [
             0.0,  1.0,  0.0, //top
            -1.0, -1.0,  0.0, //abajo a la izq
             1.0, -1.0,  0.0 //abajo a la der
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
        triangleVertexPositionBuffer.itemSize = 3;
        triangleVertexPositionBuffer.numItems = 3;
        
        triangleVertexColorBuffer = gl.createBuffer(); //semana3
        gl.bindBuffer(gl.ARRAY_BUFFER,triangleVertexColorBuffer);//semana3
        var colors= [ //semana3
        1.0,0.0,0.0,1.0,//semana3  // arriba rojo 
         0.0,1.0,0.0,1.0,//semana3 // izq verde
         0.0,0.0,1.0,1.0,//semana3 // der azul
        ];//semana3
       gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colors), gl.STATIC_DRAW); //semana3
    triangleVertexColorBuffer.itemSize = 4;//semana3
    triangleVertexColorBuffer.numItems = 3;//semana 3
    
    //dubujar cuadro
        squareVertexPositionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, squareVertexPositionBuffer);
        vertices = [
            /*
        -1.5,  0.0,  -4.0, // D
        -1.8, -1.0,  -4.0, // E
         0.2, -1.5,  -4.0, // F
         1.0, -0.5,  -4.0 //G
            */
         //
         //y,x,z
         3.0,  1.0,  0.0, //b
         1.5, -2.0,  0.0, //c
	 0.0, 3.0,  0.0, //a
	 -1.5, -2.0, 0.0, //d
	 -3.0, 1.0, 0.0 //e
         //
        // -1.5,  0.0, 0.5,   1.0,// A
        //  -1.8, -1.0, 2.0,    1.0,// B
        //  0.2,  -1.5, 2.0,    1.0,// C
        //  1.0,  -0.5, -2.0,     1.0// D
            //
            /*
            1.0,  1.0,  0.0, //arriba izq
       -1.0,  1.0,  0.0, //arriba der
        1.0, -1.0,  0.0, //abajo der
       - 1.0, -1.0,  0.0
       */
        ];
        
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
       squareVertexPositionBuffer.itemSize = 3;
        squareVertexPositionBuffer.numItems = 5;
        //color
         squareVertexColorBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, squareVertexColorBuffer);
  colors = []
    for (var i=0; i < 5; i++) {
       // colors = colors.concat([0.5, 0.5, 1.0, 1.0]);
       //coloresdelcuadro
     var colors= [ //semana3
        0.0,0.0,0.0,0.0,//b   0.0,0.0,0.0,0.0,//blanco
         1.0,0.0,0.0,1.0,//c  1.0,0.0,0.0,1.0,//rojo
         0.0,1.0,0.0,1.0,//a  0.0,1.0,0.0,1.0,//verde
         0.0,0.0,0.0,0.0,//d  0.0,0.0,0.0,0.0,//blanco
         0.0,0.0,1.0,1.0 //e  0.0,0.0,1.0,1.0,//azul
        ];//semana3   
        
    }
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colors), gl.STATIC_DRAW);
    squareVertexColorBuffer.itemSize = 4;
    squareVertexColorBuffer.numItems = 4;
    
 //+hexagono
    hexagonoVertexColorBuffer = gl.createBuffer();
		gl.bindBuffer(gl.ARRAY_BUFFER, hexagonoVertexColorBuffer);
		colors = []
		for (var i=0; i < 6; i++) {
         var colors= [ //semana3
             //color1
             /*
        1.0,0.0,0.0,1.0,//c  //rojo 
         0.0,1.0,0.0,1.0,//b //verde
         0.0,0.0,0.0,0.0,//d //blanco
         0.0,0.0,1.0,1.0,//e //azul
         1.0,0.0,0.0,1.0,//f //rojo
         0.0,1.0,1.0,1.0,// a morado
         1.0,0.0,1.0,1.0//g cyan
                */
               //color2
         0.0,0.0,0.0,0.0,//c  //blanco
         0.0,0.0,0.0,0.0,//b //blanco
         0.0,1.0,0.0,1.0,//d //verda
         0.0,0.0,1.0,1.0,//e //azul
         0.0,0.0,1.0,1.0,//f //azul
         1.0,0.0,0.0,1.0,// a// rojo
         0.0,0.0,0.0,0.0// g //blanco
        ];
        //0,0,0,1 //negro
        //1,0,0,0//rosa
        //1,1,0,0//amarillo
     }
	gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colors), gl.STATIC_DRAW);
	hexagonoVertexColorBuffer.itemSize = 4;
	hexagonoVertexColorBuffer.numItems = 4;
        
        hexagonoVertexPositionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, hexagonoVertexPositionBuffer);
        vertices = [
            //acostado
            /*
             10.0,  0.0,  0.0, //c
             8.0,  2.0,  0.0, //b
             8.0, -2.0,  0.0, //d
             6.0, -2.0, 0.0, //e
	     4.0, 0.0, 0.0, //f
	     8.0, 2.0, 0.0,//g
	     6.0, 2.0, 0.0  //a 
            //parado
            //x,y,z
            */
            9.0,  2.0,  0.0, //c
             7.0,  4.0,  0.0, //b
             9.0, -0.1,  0.0, //d
             7.0, -2.0, 0.0, //e
	     5.0, 0.0, 0.0, //f
	     7.0, 4.0, 0.0,//g des
	     5.0, 2.0, 0.0  //a 
        ];
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
        hexagonoVertexPositionBuffer.itemSize = 3; //3
        hexagonoVertexPositionBuffer.numItems = 7; //7
    }
//-exagono

//aqui se hace el dibujo 

    function drawScene() {
        gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT); //borrarPantalla y profundidad del bufer
        //escala
        mat4.perspective(45, gl.viewportWidth / gl.viewportHeight, 0.1, 100.0, pMatrix);

        mat4.identity(mvMatrix); //restablweceLaVista
        
        // triangulo po horisontal
        mat4.translate(mvMatrix, [-3, 0.0, -15]); //mover izq 1.5 unidades y dentro de la pantalla
    //triangulo
        gl.bindBuffer(gl.ARRAY_BUFFER, triangleVertexPositionBuffer);
        gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, triangleVertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, triangleVertexColorBuffer);//semana3
        gl.vertexAttribPointer(shaderProgram.vertexColorAttribute, triangleVertexColorBuffer.itemSize, gl.FLOAT, false, 0, 0);//semana3
        setMatrixUniforms();
        gl.drawArrays(gl.TRIANGLES, 0, triangleVertexPositionBuffer.numItems);
        //pos horizontal derecha
        mat4.translate(mvMatrix, [6.0, 0.0, -15]); //mover der 3 unidades
     //cuadro/pentagono
        gl.bindBuffer(gl.ARRAY_BUFFER, squareVertexPositionBuffer);
        gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, squareVertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);
        //si se comentan estas dos lineas, no pinta el cuadro//semana3
        gl.bindBuffer(gl.ARRAY_BUFFER, squareVertexColorBuffer);
        gl.vertexAttribPointer(shaderProgram.vertexColorAttribute, squareVertexColorBuffer.itemSize, gl.FLOAT, false, 0, 0);
        setMatrixUniforms();
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, squareVertexPositionBuffer.numItems);
    //hexagono
        mat4.translate(mvMatrix, [-12.0, 6.0, 0.0]);
        gl.bindBuffer(gl.ARRAY_BUFFER, hexagonoVertexPositionBuffer);
        gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, hexagonoVertexPositionBuffer.itemSize, gl.FLOAT, false, 0, 0);
	gl.bindBuffer(gl.ARRAY_BUFFER, hexagonoVertexColorBuffer);
	gl.vertexAttribPointer(shaderProgram.vertexColorAttribute, hexagonoVertexColorBuffer.itemSize, gl.FLOAT, false, 0, 0);
	setMatrixUniforms();
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, hexagonoVertexPositionBuffer.numItems);
    }
    function webGLStart() {
        var canvas = document.getElementById("lesson01-canvas");
        initGL(canvas);
        initShaders();
        initBuffers();
        //color negro
        //gl.clearColor(0.0, 0.0, 0.0, 1.0);
        ////color morado
        gl.clearColor(0.6, 0.0, 1.0, 1.0);
        //color rojo
        //gl.clearColor(1.0, 0.0, 0.0, 1.0);
        gl.enable(gl.DEPTH_TEST);

        drawScene();
    }


</script>


</head>


<body onload="webGLStart();">
  <canvas id="lesson01-canvas" style="border: none;" width="500" height="500"></canvas>
</body>

</html>
